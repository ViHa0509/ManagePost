(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(t,e,a){},129:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(12),o=a.n(r),s=(a(101),a(20)),i=a(175),u=a(65),l=function(t){return t().type},j=Object(i.a)({getPostsRequest:void 0,getPostsSuccess:function(t){return t},getPostsFailure:function(t){return t}}),b=Object(i.a)({createPostRequest:function(t){return t},createPostSuccess:function(t){return t},createPostFailure:function(t){return t}}),d=Object(i.a)({updatePostRequest:function(t){return t},updatePostSuccess:function(t){return t},updatePostFailure:function(t){return t}}),p=Object(u.a)("SHOW_CREATE_POST_MODAL"),O=Object(u.a)("HIDE_CREATE_POST_MODAL"),h=a(172),x=a(173),f=a(58),m=a(159),g=Object(m.a)((function(t){return{container:{backgroundColor:t.palette.primary.main,color:"white",marginBottom:20,fontWeight:"lighter",padding:"5px 0"}}})),v=a(8);function P(){var t=g();return Object(v.jsx)(f.a,{variant:"h4",align:"center",className:t.container,children:"Blog"})}var w=a(169),k=a(47),S=a(14),y=a(163),C=a(164),R=a(177),q=a(165),N=a(166),M=a(167),D=a(168),E=Object(m.a)((function(t){return{media:{height:150}}})),F=a(84),L=a.n(F),T=a(85),_=a.n(T),B=a(83),A=a.n(B);function H(t){var e,a=t.post,n=E(),r=Object(s.b)(),o=c.a.useCallback((function(){r(d.updatePostRequest(Object(S.a)(Object(S.a)({},a),{},{like:a.like+1})))}),[r,a]);return Object(v.jsxs)(y.a,{children:[Object(v.jsx)(C.a,{avatar:Object(v.jsx)(R.a,{children:a.attchment}),title:a.author,subheader:A()(a.created_on).format("HH:MM MM DD,YYYY"),action:Object(v.jsx)(q.a,{children:Object(v.jsx)(L.a,{})})}),Object(v.jsx)(N.a,{image:a.attchment,title:"Title",className:n.media}),Object(v.jsxs)(M.a,{children:[Object(v.jsx)(f.a,{variant:"h5",color:"textPrimary",children:a.title}),Object(v.jsx)(f.a,(e={variant:"body2",color:"p"},Object(k.a)(e,"color","textSecondary"),Object(k.a)(e,"children",a.content),e))]}),Object(v.jsx)(D.a,{children:Object(v.jsxs)(q.a,{children:[Object(v.jsx)(_.a,{onClick:o}),Object(v.jsxs)(f.a,{component:"span",color:"textSecondary",children:[a.like," likes"]})]})})]})}var W=function(t){return t.posts.data},Y=function(t){return t.modal};function I(){var t=Object(s.b)(),e=Object(s.c)(W);return console.log("[PostList - posts]",e),c.a.useEffect((function(){t(j.getPostsRequest())}),[t]),Object(v.jsx)(w.a,{container:!0,spacing:2,alignItems:"stretch",children:e.map((function(t){return Object(v.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(H,{post:t},t.id)})}))})}var J=a(87),V=a.n(J),z=Object(m.a)((function(t){return{fab:{position:"fixed",bottom:t.spacing(2),right:t.spacing(2)}}})),G=a(89),K=a(174),Q=a(170),U=a(171),X=a(176),Z=a(86),$=a.n(Z),tt=Object(m.a)((function(t){return{paper:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:400,backgroundColor:t.palette.background.paper,boxShadow:t.shadows[5],padding:t.spacing(2,4,3)},form:{display:"flex",flexDirection:"column"},header:{margin:"0 0 10px 0"},title:{marginBottom:"10px"},textarea:{padding:"10px",marginBottom:"10px"},footer:{marginTop:"10px"}}}));function et(){var t=c.a.useState({title:"",content:"",attchment:""}),e=Object(G.a)(t,2),a=e[0],n=e[1],r=Object(s.b)(),o=Object(s.c)(Y).isShow,i=tt(),u=c.a.useCallback((function(){r(O()),n({title:"",content:"",attchment:""})}),[r]),l=c.a.useCallback((function(){console.log({data:a}),r(b.createPostRequest(a))}),[a,r]),j=Object(v.jsxs)("div",{className:i.paper,id:"simple-modal-title",children:[Object(v.jsx)("h2",{children:"Create New Post"}),Object(v.jsxs)("form",{noValidate:!0,autoComplete:"off",className:i.form,children:[Object(v.jsx)(K.a,{className:i.title,required:!0,label:"Title",value:a.title,onChange:function(t){return n(Object(S.a)(Object(S.a)({},a),{},{title:t.target.value}))}}),Object(v.jsx)(Q.a,{className:i.textarea,rowsMin:10,rowsMax:15,placeholder:"Content...",value:a.content,onChange:function(t){return n(Object(S.a)(Object(S.a)({},a),{},{content:t.target.value}))}}),Object(v.jsx)($.a,{accept:"image/*",multiple:!1,type:"file",value:a.attchment,onDone:function(t){var e=t.base64;return n(Object(S.a)(Object(S.a)({},a),{},{attchment:e}))}}),Object(v.jsx)("div",{className:i.footer,children:Object(v.jsx)(U.a,{variant:"contained",color:"primary",component:"span",fullWidth:!0,onClick:l,children:"Create"})})]})]});return console.log({isShow:o}),Object(v.jsx)("div",{children:Object(v.jsx)(X.a,{open:o,onClose:u,children:j})})}function at(){var t=z(),e=Object(s.b)(),a=c.a.useCallback((function(){e(p())}),[e]);return Object(v.jsxs)(h.a,{maxWidth:"lg",children:[Object(v.jsx)(P,{}),Object(v.jsx)(I,{}),Object(v.jsx)(et,{}),Object(v.jsx)(x.a,{color:"primary",className:t.fab,onClick:a,children:Object(v.jsx)(V.a,{})})]})}var nt=function(){return Object(v.jsx)(at,{})},ct=a(30),rt=a(90),ot=a(88),st={posts:{isLoading:!1,data:[]},modal:{isShow:!1}};var it=Object(ct.b)({posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st.posts,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l(j.getPostsRequest):return Object(S.a)(Object(S.a)({},t),{},{isLoading:!0});case l(j.getPostsSuccess):return Object(S.a)(Object(S.a)({},t),{},{isLoading:!1,data:e.payload});case l(j.getPostsFailure):return Object(S.a)(Object(S.a)({},t),{},{isLoading:!1});case l(b.createPostSuccess):return Object(S.a)(Object(S.a)({},t),{},{data:[].concat(Object(ot.a)(t.data),[e.payload])});case l(d.updatePostSuccess):return Object(S.a)(Object(S.a)({},t),{},{data:t.data.map((function(t){return t.id==e.payload.id?e.payload:t}))});default:return t}},modal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st.modal,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l(p):return{isShow:!0};case l(O):return{isShow:!1};default:return t}}}),ut=a(25),lt=a.n(ut),jt=a(21),bt=a(57),dt=a.n(bt),pt="http://localhost:8000",Ot=function(){return dt.a.get("".concat(pt,"/posts/"))},ht=function(t){return dt.a.post("".concat(pt,"/posts/"),t)},xt=function(t){return dt.a.patch("".concat(pt,"/posts/").concat(t.id,"/"),t)},ft=lt.a.mark(Pt),mt=lt.a.mark(wt),gt=lt.a.mark(kt),vt=lt.a.mark(St);function Pt(t){var e;return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(jt.a)(Ot);case 3:return e=t.sent,console.log("[post]",e),t.next=7,Object(jt.b)(j.getPostsSuccess(e.data));case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.next=14,Object(jt.b)(j.getPostsFailure(t.t0));case 14:case"end":return t.stop()}}),ft,null,[[0,9]])}function wt(t){var e;return lt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(jt.a)(ht,t.payload);case 3:return e=a.sent,console.log("[createPostSaga - post]",e),a.next=7,Object(jt.b)(b.createPostSuccess(e.data));case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),console.error(a.t0),a.next=14,Object(jt.b)(b.createPostFailure(a.t0));case 14:case"end":return a.stop()}}),mt,null,[[0,9]])}function kt(t){var e;return lt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log({action:t}),a.next=4,Object(jt.a)(xt,t.payload);case 4:return e=a.sent,console.log("[updatePostSaga - post]",e),a.next=8,Object(jt.b)(d.updatePostSuccess(e.data));case 8:a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(0),console.error(a.t0),a.next=15,Object(jt.b)(d.updatePostFailure(a.t0));case 15:case"end":return a.stop()}}),gt,null,[[0,10]])}function St(){return lt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(jt.c)(j.getPostsRequest,Pt);case 2:return t.next=4,Object(jt.c)(b.createPostRequest,wt);case 4:return t.next=6,Object(jt.c)(d.updatePostRequest,kt);case 6:case"end":return t.stop()}}),vt)}var yt=St,Ct=Object(rt.a)(),Rt=Object(ct.d)(it,Object(ct.a)(Ct));Ct.run(yt),o.a.render(Object(v.jsx)(s.a,{store:Rt,children:Object(v.jsx)(nt,{})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.e7025efd.chunk.js.map